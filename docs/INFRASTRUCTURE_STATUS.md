# –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–î–∞—Ç–∞:** 26 —è–Ω–≤–∞—Ä—è 2026 –≥.

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–¢–∏–ø:** SQLite 3.45.1
- **–§–∞–π–ª:** `backend/construction_costs.db`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:** –£—Å–ø–µ—à–Ω–æ

### –ö–æ–¥ –≥–æ—Ç–æ–≤ –¥–ª—è PostgreSQL
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLAlchemy —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –¥–≤–∏–∂–∫–æ–º
- –î—Ä–∞–π–≤–µ—Ä `asyncpg` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ö–æ–¥ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç SQLite –∏ PostgreSQL

### Redis
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- **–í–ª–∏—è–Ω–∏–µ:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è)
- **–†–µ—à–µ–Ω–∏–µ:** –ú–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –Ω–µ–≥–æ —Å–µ–π—á–∞—Å

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –Ω–∞ SQLite (–±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ù–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ü–û
- –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
2. –ü–æ–∑–∂–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ PostgreSQL –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL + Docker (production-ready)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –ë–î
- –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ì–æ—Ç–æ–≤–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Desktop: https://www.docker.com/products/docker-desktop/
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å: `docker-compose up -d postgres redis`
3. –ò–∑–º–µ–Ω–∏—Ç—å –≤ `.env`: `DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/construction_costs`
4. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã: `python scripts/init_db.py init`

### –í–∞—Ä–∏–∞–Ω—Ç –í: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ Docker)

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
1. –°–∫–∞—á–∞—Ç—å PostgreSQL 15: https://www.postgresql.org/download/windows/
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å –ø–∞—Ä–æ–ª–µ–º `postgres`
3. –°–æ–∑–¥–∞—Ç—å –ë–î `construction_costs` –≤ pgAdmin
4. –ò–∑–º–µ–Ω–∏—Ç—å –≤ `.env`: `DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/construction_costs`
5. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã: `python scripts/init_db.py init`

---

## üìã –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ë–î

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
```powershell
python scripts/init_db.py check
```

**–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü:**
```powershell
python scripts/init_db.py init
```

**–ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –ë–î (–û–°–¢–û–†–û–ñ–ù–û!):**
```powershell
python scripts/init_db.py reset
```

### –ú–∏–≥—Ä–∞—Ü–∏–∏ (Alembic)

**–°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é:**
```powershell
alembic revision --autogenerate -m "–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

**–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:**
```powershell
alembic upgrade head
```

**–û—Ç–∫–∞—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–≥—Ä–∞—Ü–∏—é:**
```powershell
alembic downgrade -1
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–î–ª—è —Ç–µ–∫—É—â–µ–≥–æ —ç—Ç–∞–ø–∞:**
1. ‚úÖ –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –Ω–∞ SQLite
2. –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
3. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ö–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ PostgreSQL:**
- –ü–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ü–µ—Ä–µ–¥ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ö–æ–≥–¥–∞ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ PostgreSQL

**–ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–π–º—ë—Ç 5-10 –º–∏–Ω—É—Ç:**
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker/PostgreSQL
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ `.env`
- –ö–æ–º–∞–Ω–¥–∞ `python scripts/init_db.py init`
- –ì–æ—Ç–æ–≤–æ!

---

## üìù –ß—Ç–æ —Å–¥–µ–ª–∞–ª–∏ —Å–µ–≥–æ–¥–Ω—è

‚úÖ –°–æ–∑–¥–∞–ª–∏ —Å–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î  
‚úÖ –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SQLite  
‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏ Docker Compose –¥–ª—è PostgreSQL + Redis  
‚úÖ –ö–æ–¥ –≥–æ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±–µ–∏–º–∏ –ë–î  
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ PostgreSQL  

---

## –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

**–ü—Ä–æ–¥–æ–ª–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞?**

–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- **–ê) –†–æ–ª–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** (MANAGER, –∞—É–¥–∏—Ç)
- **–ë) –ë—é–¥–∂–µ—Ç—ã –æ–±—ä–µ–∫—Ç–æ–≤** —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- **–í) –¢–∞–±–µ–ª–∏ –†–¢–ë** (–æ—Ç–º–µ–Ω–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, Excel)
- **–ì) –î—Ä—É–≥–æ–µ** (—É–∫–∞–∂–∏—Ç–µ —á—Ç–æ)
