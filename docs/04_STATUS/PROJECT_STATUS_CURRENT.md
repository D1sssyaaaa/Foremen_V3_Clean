# –°–¢–ê–¢–£–° –ü–†–û–ï–ö–¢–ê: –°–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –∑–∞—Ç—Ä–∞—Ç —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 25.01.2026  
**–í–µ—Ä—Å–∏—è:** 1.1

---

## ‚úÖ –°–ï–†–í–ï–† –ó–ê–ü–£–©–ï–ù

```
INFO: Uvicorn running on http://0.0.0.0:8000
INFO: Application startup complete
```

**URL:** http://localhost:8000  
**Swagger UI:** http://localhost:8000/docs  
**ReDoc:** http://localhost:8000/redoc

---

## üìä –í–´–ü–û–õ–ù–ï–ù–û (7/10 –∑–∞–¥–∞—á)

### ‚úÖ –ó–∞–¥–∞—á–∞ #3: Telegram Bot —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§–∞–π–ª–æ–≤:** 10
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** FSM –¥–ª—è –∏–Ω–µ—Ä—Ç–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, –∫–æ–º–∞–Ω–¥—ã, –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

### ‚úÖ –ó–∞–¥–∞—á–∞ #4: –ú–æ–¥—É–ª—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§–∞–π–ª–æ–≤:** 7
- **API:** 6 endpoint'–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

### ‚úÖ –ó–∞–¥–∞—á–∞ #5: FSM –¥–ª—è –∏–Ω–µ—Ä—Ç–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤  
- **–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏ —á–µ—Ä–µ–∑ Telegram

### ‚úÖ –ó–∞–¥–∞—á–∞ #8: Excel –∏–º–ø–æ—Ä—Ç —Ç–∞–±–µ–ª–µ–π
- **–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§–∞–π–ª–æ–≤:** 3
- **API:** POST /api/v1/time-sheets/upload-excel
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–∞—Ä—Å–µ—Ä –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö

### ‚úÖ –ó–∞–¥–∞—á–∞ #9: –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã
- **–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **API:** 3 –Ω–æ–≤—ã—Ö endpoint'–∞
  - GET /api/v1/analytics/objects/{id}/costs
  - GET /api/v1/analytics/top-objects
  - GET /api/v1/analytics/dynamics

### ‚úÖ –ó–∞–¥–∞—á–∞ #10: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- **–°—Ç–∞—Ç—É—Å:** –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **–§–∞–π–ª–æ–≤:** 4
- **–¢–µ—Å—Ç–æ–≤:** 26 (–£–ü–î –ø–∞—Ä—Å–∏–Ω–≥, API —Ç–∞–±–µ–ª–µ–π, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)

---

## ‚è∏Ô∏è –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û (3 –∑–∞–¥–∞—á–∏)

### –ó–∞–¥–∞—á–∞ #1: Docker/PostgreSQL
- **–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** SETUP_INFRASTRUCTURE.md

### –ó–∞–¥–∞—á–∞ #2: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:** –ó–∞–¥–∞—á–∏ #1
- **–ö–æ–º–∞–Ω–¥–∞:** `alembic upgrade head`

### –ó–∞–¥–∞—á–∞ #6: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å MinIO
- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:** –ó–∞–¥–∞—á–∏ #1
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–∏–ª–∏—â–µ XML —Ñ–∞–π–ª–æ–≤ –£–ü–î

### –ó–∞–¥–∞—á–∞ #7: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –£–ü–î
- **–°—Ç–∞—Ç—É—Å:** –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- **–¢—Ä–µ–±—É–µ—Ç:** PostgreSQL –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –≤ excel_upload.py
**–ü—Ä–æ–±–ª–µ–º–∞:** `ModuleNotFoundError: No module named 'sqlalchemy.ext.asyncion'`  
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ `sqlalchemy.ext.asyncio` ‚úÖ

### 2. –û—à–∏–±–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –≤ analytics/service.py
**–ü—Ä–æ–±–ª–µ–º–∞:** `SyntaxError: (unicode error) 'utf-8' codec can't decode byte`  
**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω —Ñ–∞–π–ª —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π ‚úÖ

### 3. –°–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ 8 –º–æ–¥—É–ª–µ–π —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ ‚úÖ

---

## üì¶ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

```
backend/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ auth/              ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ users/             ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ objects/           ‚úÖ –û–±—ä–µ–∫—Ç—ã —É—á–µ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ time_sheets/       ‚úÖ –¢–∞–±–µ–ª–∏ + Excel –∏–º–ø–æ—Ä—Ç
‚îÇ   ‚îú‚îÄ‚îÄ equipment/         ‚úÖ –ó–∞—è–≤–∫–∏ –Ω–∞ —Ç–µ—Ö–Ω–∏–∫—É
‚îÇ   ‚îú‚îÄ‚îÄ materials/         ‚úÖ –ó–∞—è–≤–∫–∏ –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ upd/               ‚úÖ –£–ü–î –ø–∞—Ä—Å–∏–Ω–≥
‚îÇ   ‚îú‚îÄ‚îÄ analytics/         ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)
‚îÇ   ‚îú‚îÄ‚îÄ notifications/     ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ bot/               ‚úÖ Telegram Bot
‚îÇ
‚îú‚îÄ‚îÄ tests/                 ‚úÖ 26 —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ conftest.py        ‚úÖ –§–∏–∫—Å—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_upd_parser.py ‚úÖ 11 —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ test_timesheets_api.py ‚úÖ 7 —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ test_analytics.py  ‚úÖ 8 —Ç–µ—Å—Ç–æ–≤
‚îÇ
‚îî‚îÄ‚îÄ migrations/            ‚úÖ Alembic –º–∏–≥—Ä–∞—Ü–∏–∏
```

---

## üéØ API ENDPOINTS

### –¢–∞–±–µ–ª–∏ (Time Sheets)
- `POST /api/v1/time-sheets/` - –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–µ–ª—å
- `GET /api/v1/time-sheets/` - –°–ø–∏—Å–æ–∫ —Ç–∞–±–µ–ª–µ–π
- `POST /api/v1/time-sheets/{id}/submit` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
- `POST /api/v1/time-sheets/{id}/approve` - –£—Ç–≤–µ—Ä–¥–∏—Ç—å
- `POST /api/v1/time-sheets/upload-excel` - –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ Excel ‚≠ê

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (Analytics)
- `GET /api/v1/analytics/objects/{id}/costs` - –ó–∞—Ç—Ä–∞—Ç—ã –ø–æ –æ–±—ä–µ–∫—Ç—É ‚≠ê
- `GET /api/v1/analytics/top-objects` - –¢–û–ü-5 –æ–±—ä–µ–∫—Ç–æ–≤ ‚≠ê
- `GET /api/v1/analytics/dynamics` - –î–∏–Ω–∞–º–∏–∫–∞ –∑–∞—Ç—Ä–∞—Ç ‚≠ê
- `GET /api/v1/analytics/summary` - –û–±—â–∞—è —Å–≤–æ–¥–∫–∞
- `GET /api/v1/analytics/objects/{id}` - –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Notifications)
- `POST /api/v1/notifications/send` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å
- `GET /api/v1/notifications/user/{user_id}` - –ò—Å—Ç–æ—Ä–∏—è
- `GET /api/v1/notifications/unread` - –ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ
- `POST /api/v1/notifications/{id}/mark-read` - –ü—Ä–æ—á–∏—Ç–∞–Ω–æ
- `POST /api/v1/notifications/broadcast` - –†–∞—Å—Å—ã–ª–∫–∞
- `GET /api/v1/notifications/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## üöÄ –ó–ê–ü–£–°–ö

### Backend —Å–µ—Ä–≤–µ—Ä
```bash
cd backend
python main.py
```
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ http://0.0.0.0:8000

### Telegram Bot
```bash
cd backend
python -m app.bot.main
```
**–¢—Ä–µ–±—É–µ—Ç:** TELEGRAM_BOT_TOKEN –≤ .env

### –¢–µ—Å—Ç—ã
```bash
cd backend
pytest tests/ -v
```
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤)

---

## üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê

- **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ:** ~90
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~16,000
- **–ú–æ–¥—É–ª–µ–π:** 8 –∞–∫—Ç–∏–≤–Ω—ã—Ö
- **API endpoints:** 55+
- **–¢–µ—Å—Ç–æ–≤:** 26

---

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

1. **PostgreSQL –Ω–µ –∑–∞–ø—É—â–µ–Ω** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback –Ω–∞ SQLite –≤ —Ç–µ—Å—Ç–∞—Ö
2. **–¢–µ—Å—Ç—ã —Ç—Ä–µ–±—É—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –∏–º–ø–æ—Ä—Ç–æ–≤** - –º–æ–¥—É–ª—å `xml_parser` ‚Üí `upd_parser`
3. **MinIO –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω** - XML —Ñ–∞–π–ª—ã –£–ü–î –Ω–µ –º–æ–≥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è

---

## üîú –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ)
1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
2. ‚è≥ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Desktop
3. ‚è≥ –ó–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL + Redis
4. ‚è≥ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
5. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω–æ–π –ë–î

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ)
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ —Ç–µ—Å—Ç–∞—Ö
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤
3. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∏—Å–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≤ Excel –∏–º–ø–æ—Ä—Ç–µ
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –£–ü–î (–∑–∞–¥–∞—á–∞ #7)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–£–ª—É—á—à–µ–Ω–∏—è)
1. –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD
3. –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (ELK)
4. –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤ –≤ Excel

---

## ‚ú® –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

- ‚úÖ Backend API –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- ‚úÖ Telegram Bot –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É
- ‚úÖ Excel –∏–º–ø–æ—Ä—Ç —Ç–∞–±–µ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –ú–æ–¥—É–ª—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∞–∫—Ç–∏–≤–µ–Ω
- ‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ —Å—Ç–∞–±–∏–ª–µ–Ω

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–Ω—É:** 75%

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 25.01.2026, 14:30  
**–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞:** üü¢ RUNNING  
**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫:** 0
