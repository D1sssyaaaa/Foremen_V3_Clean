# üöÄ QUICK START - –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï

**–°–æ–∑–¥–∞–Ω–æ:** 27 —è–Ω–≤–∞—Ä—è 2026  
**–í–µ—Ä—Å–∏—è:** 1.0

---

## üìã –ß–ï–ö-–õ–ò–°–¢ –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø

### –®–∞–≥ 1: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ë–î –º–∏–≥—Ä–∞—Ü–∏—é ‚úÖ

```bash
cd backend
alembic upgrade head
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –°–æ–∑–¥–∞–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ `deliveries` (8 –ø–æ–ª–µ–π)
- –°–æ–∑–¥–∞—é—Ç—Å—è 4 –∏–Ω–¥–µ–∫—Å–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ì–æ—Ç–æ–≤–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### –®–∞–≥ 2: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å FastAPI ‚úÖ

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
cd backend
python main.py

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ï—Å–ª–∏ —É–∂–µ –∑–∞–ø—É—â–µ–Ω, –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å (Ctrl+C, –ø–æ—Ç–æ–º —Å–Ω–æ–≤–∞ python main.py)
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```
http://localhost:8000/docs
‚Üí –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–æ–≤—ã–µ endpoints –ø–æ–¥ /api/v1/deliveries –∏ /api/v1/analytics/export-excel
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Telegram Bot ‚úÖ

```bash
# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
cd backend
python -m app.bot.main
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–¥–Ω—è—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –í –ª–æ–≥–∞—Ö –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "ImportError" –∏–ª–∏ "ModuleNotFoundError"

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ

#### Telegram –±–æ—Ç:
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–æ—Ç—É –ª—é–±—É—é –∫–æ–º–∞–Ω–¥—É
2. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "üöö –°–æ–∑–¥–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É"
3. –ü—Ä–æ–¥–µ–ª–∞—Ç—å 5-—à–∞–≥–æ–≤—ã–π workflow
4. ‚úÖ –î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–∑–¥–∞—Ç—å—Å—è

#### API (Swagger):
1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:8000/docs
2. –ù–∞–π—Ç–∏ endpoint `/api/v1/deliveries`
3. –ö–ª–∏–∫–Ω—É—Ç—å "Try it out"
4. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª—è
5. ‚úÖ –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è 201 Created

#### Excel (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞):
1. –í Swagger –Ω–∞–π—Ç–∏ `/api/v1/time-sheets/template`
2. –ü–µ—Ä–µ–¥–∞—Ç—å `brigade_id=1`
3. ‚úÖ –î–æ–ª–∂–µ–Ω —Å–∫–∞—á–∞—Ç—å—Å—è —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .xlsx

#### Excel (—ç–∫—Å–ø–æ—Ä—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∏):
1. –í Swagger –Ω–∞–π—Ç–∏ `/api/v1/analytics/export-excel`
2. –ü–µ—Ä–µ–¥–∞—Ç—å –¥–∞—Ç—ã: `period_start=2026-01-01&period_end=2026-01-31`
3. ‚úÖ –î–æ–ª–∂–µ–Ω —Å–∫–∞—á–∞—Ç—å—Å—è —Ñ–∞–π–ª —Å 3 –ª–∏—Å—Ç–∞–º–∏

---

## üîç –ü–†–û–í–ï–†–ö–ê –°–¢–ê–¢–£–°–ê

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–ø—É—â–µ–Ω—ã –ª–∏ —Å–µ—Ä–≤–∏—Å—ã:

```bash
# FastAPI
curl http://localhost:8000/health
# –û—Ç–≤–µ—Ç: 200 OK

# Telegram Bot (–µ—Å–ª–∏ –µ—Å—Ç—å endpoint)
# –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ª–æ–≥–∏
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤—Å–µ –ª–∏ endpoints –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã:

```bash
curl http://localhost:8000/openapi.json | grep -i deliveries
curl http://localhost:8000/openapi.json | grep -i export-excel
```

---

## ‚ö†Ô∏è –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò –ò –†–ï–®–ï–ù–ò–Ø

### –û—à–∏–±–∫–∞ 1: "Table 'deliveries' already exists"
**–ü—Ä–∏—á–∏–Ω–∞:** –ú–∏–≥—Ä–∞—Ü–∏—è —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞  
**–†–µ—à–µ–Ω–∏–µ:** –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å

### –û—à–∏–±–∫–∞ 2: "ImportError: No module named 'openpyxl'"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è Excel  
**–†–µ—à–µ–Ω–∏–µ:**
```bash
pip install openpyxl
```

### –û—à–∏–±–∫–∞ 3: "ModuleNotFoundError" –≤ –±–æ—Ç–µ
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç  
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
cd backend && alembic upgrade head

# 2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –±–æ—Ç
python -m app.bot.main
```

### –û—à–∏–±–∫–∞ 4: "403 Forbidden" –ø—Ä–∏ –≤—ã–∑–æ–≤–µ API
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø—Ä–∞–≤ (RBAC)  
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –Ω—É–∂–Ω–æ–π —Ä–æ–ª—å—é (MANAGER, ADMIN –∏ —Ç.–¥.)

### –û—à–∏–±–∫–∞ 5: "404 Not Found" –ø—Ä–∏ GET /api/v1/deliveries
**–ü—Ä–∏—á–∏–Ω–∞:** Endpoint –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω  
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `main.py` (–µ—Å—Ç—å –ª–∏ `include_router`)
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å FastAPI

---

## üìä –ù–û–í–´–ï ENDPOINTS

### –î–æ—Å—Ç–∞–≤–∫–∏:
- `POST /api/v1/deliveries` - —Å–æ–∑–¥–∞—Ç—å
- `GET /api/v1/deliveries/{id}` - –ø–æ–ª—É—á–∏—Ç—å
- `PUT /api/v1/deliveries/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å
- `DELETE /api/v1/deliveries/{id}` - —É–¥–∞–ª–∏—Ç—å
- `PUT /api/v1/deliveries/{id}/status` - —Å–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å
- `GET /api/v1/deliveries/objects/{id}` - —Å–ø–∏—Å–æ–∫ –ø–æ –æ–±—ä–µ–∫—Ç—É
- `GET /api/v1/deliveries` - –≤—Å–µ –¥–æ—Å—Ç–∞–≤–∫–∏ (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)
- `GET /api/v1/deliveries/objects/{id}/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### Excel:
- `GET /api/v1/time-sheets/template` - —Å–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω —Ç–∞–±–µ–ª—è
- `GET /api/v1/analytics/export-excel` - —ç–∫—Å–ø–æ—Ä—Ç –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

### Telegram Bot:
- –ö–Ω–æ–ø–∫–∞ "üöö –°–æ–∑–¥–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É" - 5-—à–∞–≥–æ–≤—ã–π workflow

---

## üéØ –ë–´–°–¢–†–´–ï –ü–†–ò–ú–ï–†–´

### –°–æ–∑–¥–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É —á–µ—Ä–µ–∑ API:
```bash
curl -X POST http://localhost:8000/api/v1/deliveries \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "cost_object_id": 1,
    "amount": 15000,
    "delivery_date": "2026-01-30",
    "comment": "–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞"
  }'
```

### –°–∫–∞—á–∞—Ç—å —à–∞–±–ª–æ–Ω —Ç–∞–±–µ–ª—è:
```bash
curl -X GET "http://localhost:8000/api/v1/time-sheets/template?brigade_id=1" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -o template_brigade_1.xlsx
```

### –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É:
```bash
curl -X GET "http://localhost:8000/api/v1/analytics/export-excel?period_start=2026-01-01&period_end=2026-01-31" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -o analytics_january_2026.xlsx
```

---

## üìÇ –°–¢–†–£–ö–¢–£–†–ê –ù–û–í–´–• –§–ê–ô–õ–û–í

```
backend/
‚îú‚îÄ‚îÄ migrations/versions/
‚îÇ   ‚îî‚îÄ‚îÄ 012_add_deliveries_table.py      ‚Üê –ù–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ë–î
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ models.py                         ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å Delivery
‚îÇ   ‚îú‚îÄ‚îÄ deliveries/                       ‚Üê –ù–æ–≤—ã–π –º–æ–¥—É–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas.py                    ‚Üê Pydantic –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service.py                    ‚Üê –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ router.py                     ‚Üê API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ time_sheets/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ excel_upload.py               ‚Üê –î–æ–±–∞–≤–ª–µ–Ω endpoint /template
‚îÇ   ‚îú‚îÄ‚îÄ analytics/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ router.py                     ‚Üê –î–æ–±–∞–≤–ª–µ–Ω endpoint /export-excel
‚îÇ   ‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ states/__init__.py            ‚Üê –î–æ–±–∞–≤–ª–µ–Ω—ã DeliveryStates
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/deliveries.py        ‚Üê –ù–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ FSM
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyboards/__init__.py         ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ üöö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.py                       ‚Üê –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω —Ö–µ–Ω–¥–ª–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ (–¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏)
‚îî‚îÄ‚îÄ main.py                                ‚Üê –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω deliveries router
```

---

## ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô –ß–ï–ö-–õ–ò–°–¢

- [ ] –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –ë–î –º–∏–≥—Ä–∞—Ü–∏—è (`alembic upgrade head`)
- [ ] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω–Ω–µ–Ω FastAPI (`python main.py`)
- [ ] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω–Ω–µ–Ω Telegram Bot (`python -m app.bot.main`)
- [ ] Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω (http://localhost:8000/docs)
- [ ] –ö–Ω–æ–ø–∫–∞ "üöö –°–æ–∑–¥–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É" –≤–∏–¥–Ω–∞ –≤ –±–æ—Ç–µ
- [ ] Endpoint /api/v1/deliveries —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤ Swagger)
- [ ] Endpoint /api/v1/time-sheets/template —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Endpoint /api/v1/analytics/export-excel —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö FastAPI
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö Telegram Bot

---

## üÜò –ù–£–ñ–ù–ê –ü–û–ú–û–©–¨?

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
   ```bash
   # FastAPI
   tail -f backend/logs/app.log  (–µ—Å–ª–∏ —Å–æ–∑–¥–∞–Ω)
   
   # Telegram Bot
   tail -f backend/bot_logs.txt
   ```

2. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ:**
   ```bash
   # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (Ctrl+C –≤ –æ–±–æ–∏—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö)
   # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –∑–∞–Ω–æ–≤–æ
   cd backend && alembic upgrade head
   
   # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å FastAPI
   python main.py
   
   # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Bot
   python -m app.bot.main
   ```

3. **–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
   ```bash
   rm -rf backend/app/__pycache__
   rm -rf backend/app/*/__pycache__
   pip cache purge
   ```

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 27 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Ready to Deploy
